@import "ui-variables";
@import "defaults";
@import "conf";
@import "misc";
@import "file-browser";

@stateful-icon-success: @stateful-icon-added;
@stateful-icon-warning: @stateful-icon-modified;
@stateful-icon-error:   @stateful-icon-removed;
@text-color-info:       @stateful-color-renamed;
@text-color-success:    @stateful-color-success;
@text-color-warning:    @stateful-color-warning;
@text-color-error:      @stateful-color-error;
@text-color-added:      @stateful-color-added;
@text-color-modified:   @stateful-color-modified;
@text-color-removed:    @stateful-color-removed;
@text-color-renamed:    @stateful-color-renamed;
@text-color-ignored:    @stateful-color-ignored;

:root {
  --color-info:     @stateful-color-info;
  --color-success:  @stateful-color-success;
  --color-warning:  @stateful-color-warning;
  --color-error:    @stateful-color-error;
  --color-added:    @stateful-color-added;
  --color-modified: @stateful-color-modified;
  --color-renamed:  @stateful-color-renamed;
  --color-removed:  @stateful-color-removed;
  --color-ignored:  @stateful-color-ignored;
}

.icon-styles () {
  min-width:      1.4em !important;
  min-height:     1.4em !important;
  display:        inline-block;
  vertical-align: middle;
}

.state-fill(success);
.state-fill(warning);
.state-fill(error);
.state-fill(added);
.state-fill(modified);
.state-fill(renamed);
.state-fill(removed);
.state-fill(ignored);

.status-color(@name) {
  // --color: var(~"--color-@{name}", ~"@{stateful-color-@{name}}");
  --color: var(~"--color-@{name}");

  &, &::before, & > *, & > *::before {
    color:   var(--color) !important }}

.status-icon(@ico) {
  --icon: @ico;

  .tree-view &.list-item::after,
  &.icon::before {
    -webkit-mask-position: center;
    -webkit-mask-repeat:   no-repeat;
    -webkit-mask-size:     contain; //120%;
    -webkit-mask-image:    var(--icon);
    background-color:      var(--color, @text-color) !important;
    content:               "" !important;
    .icon-styles() }}

.state-fill(@name; @n: 0) {

  @icon: ~"@{stateful-icon-@{name}}";
  .do(@sl) { @{sl} {
    .status-color(@name);
    .status-icon(@icon) }}

  .do(~".highlight-@{name}");
  .do(~".status-@{name}");
  .do(~".is-@{name}") }



// body, .tab {
//   font-family: Helvetica Neue !important;
//   font-weight: 200 !important;
// }
